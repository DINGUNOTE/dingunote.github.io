---
layout: single
title: "JavaScript에서의 this"

date: 2022-07-03 08:48:00 +0900
last-mod: 2022-07-03 09:24:00 +0900

category: javascript
---

## 📌 this란?
다른 대부분의 객체 지향 언어에서는 Class로 생성한 인스턴스 객체를 의미한다. 그리고 Class에서만 사용할 수 있기 때문에 혼란의 여지가 없다. 그러나 JavaScript에서의 `this`는 어디서든 사용할 수 있다. 상황에 따라서 this가 바라보는 대상이 달라지기 때문에 JavaScript의 작동 방식을 제대로 이해하지 못한다면 파악하기 어려울 수 있고, 의도하지 않은 엉뚱한 대상을 바라볼 수도 있다. 함수와 객체(메서드)의 구분이 느슨한 JavaScript에서 this는 실질적으로 이 둘을 구분하는 거의 유일한 기능이다.

## 📌 상황에 따라 달라지는 this
기본적으로 실행 컨텍스트가 생성될 때 this가 같이 결정된다. 실행 컨텍스트는 함수를 호출할 때 생성되고, 다시 말하면 this는 함수를 호출할 때 결정된다.

## 📌 전역 공간에서의 this
전역 컨텍스트를 생성하는 주체가 전역 객체이기 때문에 전역 객체를 가리킨다.<br>
브라우저 - window, NodeJs - global
```javascript
// 브라우저
console.log(this) // {alert: ƒ(), atob: ƒ(), blur: ƒ(), ...}
console.log(window) // {alert: ƒ(), atob: ƒ(), blur: ƒ(), ...}
console.log(this === window) // true

// NodeJs
console.log(this) // { process: {title: 'node', version: ..., ... } }
console.log(global) // { process: {title: 'node', version: ..., ... } }
console.log(this === global) // true
```

## 📌 메서드로 호출할 때 그 메서드 내부에서의 this
> 함수와 메서드는 미리 정의한 동작을 수행하는 코드이고, 이 둘을 구분하는 유일한 차이는 `독립성`이다. 함수는 그 자체로 독립적인 기능을 하는 반면, 메서드는 자신을 호출한 객체에 관한 동작을 수행한다. 그렇다고 어떤 함수를 객체의 프로퍼티에 할당한다고 해서 그 자체로 무조건 메서드가 되는 것은 아니라 객체의 메서드로서 호출할 경우에만 메서드로 동작하고, 그렇지 않으면 함수로 동작하는 것이다.

```javascript
// 함수로 호출
var func = function(x) { console.log(this, x); }
func(1); // Window { ... } 1

// 메서드로 호출
var obj = {
  method: function(x) { console.log(this, x); }
}
obj.method(1); // {method: ƒ} 1
obj['method'](2); // {method: ƒ} 2
```

점 표기법이나 대괄호 표기법으로 어떤 함수를 호출할 때 그 함수 이름(프로퍼티 명) 앞에 객체가 명시돼 있으면 메서드로 호출한 것이고, 그렇지 않은 모든 경우에는 함수로 호출한 것이다.

## 📌 메서드 내부에서의 this
`this`에는 호출한 주체에 대한 정보가 담긴다. 호출 주체는 바로 함수명(프로퍼티 명) 앞의 객체다. 점 표기법인 경우 마지막 점 앞에 명시된 객체가 곧 this가 된다.
```javascript
var obj = {
  methodA: function() { console.log(this); },
  inner: {
    methodB: function() { console.log(this); }
  }
};

obj.methodA();    // methodA: ƒ, inner: {...} (=== obj)
obj['methodA'](); // methodA: ƒ, inner: {...} (=== obj)

obj.inner.methodB();        // methodB: ƒ (=== obj.inner)
obj.inner['methodB']();     // methodB: ƒ (=== obj.inner)
obj['inner'].methodB();     // methodB: ƒ (=== obj.inner)
obj['inner']['methodB']();  // methodB: ƒ (=== obj.inner)
```

...작성중...

> 참고 자료<br>[코어 자바스크립트](http://www.yes24.com/Product/Goods/78586788)
